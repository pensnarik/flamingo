<div class="modal fade" tabindex="-1" id="dlg-product-select" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Выбор продукта</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <form class="form-inline" role="form">
                        <div class="form-group">
                            <input style="width: 400px;" placeholder="Наименование или артикул" type="text" value="" name="name" class="form-control">
                            <button type="button" class="btn" onclick="productSearch();">Поиск</button>
                        </div>
                    </form>
                </div>
                <div style="max-height: 300px; overflow-y: auto; margin-top: 20px;">
                    <table class="table table-bordered">
                        <thead>
                            <th>Артикул</th>
                            <th>Наименование</th>
                            <th>Цена</th>
                        </thead>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
                <button type="button" class="btn btn-default">OK</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    function productSearch() {
        $('#dlg-product-select table').load('/admin/product-search?name=' + $('#dlg-product-select input[name="name"]').val());
    }

    $('#dlg-product-select').on('shown.bs.modal', function () {
        $('#dlg-product-select input[name="name"]').val('');
        $('#dlg-product-select input[name="name"]').focus();
    });

    function keypressInName(e) {
        var code = (e.keyCode ? e.keyCode : e.which);
        if (code == 13) {
            e.preventDefault();

            productSearch();
        }
    };

    $(document).ready(function() {
        $('#dlg-product-select input[name="name"]').bind("keypress", {}, keypressInName);
    });

</script>